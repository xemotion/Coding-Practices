{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./sources/ext/quick_info.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","gantt","config","quickinfo_buttons","quick_info_detached","show_quick_info","attachEvent","id","setTimeout","showQuickInfo","events","hiding_function","_hideQuickInfo","length","templates","quick_info_title","start","end","ev","text","substr","quick_info_content","details","quick_info_date","task_time","quick_info_class","task","this","_quick_info_box_id","hideQuickInfo","pos","_get_event_counter_part","_quick_info_box","_init_quick_info","_quick_info_task","className","_prepare_quick_info_classname","_fill_quick_data","_show_quick_info","callEvent","forced","qi","taskId","parentNode","removeChild","style","right","left","event","e","keyCode","offset","nodeName","toLowerCase","$task_data","appendChild","width","offsetWidth","height","offsetHeight","scrolls","getScrollState","screen_width","$task","x","Math","min","max","dx","top","dy","$root","getTask","css","template","start_date","end_date","_quick_info_readonly","isReadonly","document","createElement","_waiAria","quickInfoAttr","html","ariaAttr","quickInfoHeaderAttrString","buttons","is_editor","icon_delete","icon_edit","quickInfoButtonAttrString","locale","labels","innerHTML","_qi_button_click","target","srcElement","code","which","node","box","mask","indexOf","$click","split","replace","domEv","getTaskNode","offsetTop","offsetLeft","offsetParent","scroll","$container","y","header","content","date","titleContent","firstChild","nextSibling","quickInfoHeader","join"],"mappings":"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","file":"ext/dhtmlxgantt_quick_info.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 203);\n","gantt.config.quickinfo_buttons = [\"icon_delete\",\"icon_edit\"];\ngantt.config.quick_info_detached = true;\ngantt.config.show_quick_info = true;\n\ngantt.attachEvent(\"onTaskClick\", function(id){\n\tsetTimeout(function() {\n\t\tgantt.showQuickInfo(id);\n\t}, 0);\n\t\n\treturn true;\n});\n\n(function(){\n\tvar events = [\"onEmptyClick\", \"onViewChange\", \"onLightbox\", \"onBeforeTaskDelete\", \"onBeforeDrag\"];\n\tvar hiding_function = function(){\n\t\tgantt._hideQuickInfo();\n\t\treturn true;\n\t};\n\tfor (var i=0; i<events.length; i++)\n\t\tgantt.attachEvent(events[i], hiding_function);\n})();\n\ngantt.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\ngantt.templates.quick_info_content = function(start, end, ev){ return ev.details || ev.text; };\ngantt.templates.quick_info_date = function(start, end, ev){\n\t\treturn gantt.templates.task_time(start, end, ev);\n};\ngantt.templates.quick_info_class = function(start, end, task){ return \"\"; };\n\ngantt.showQuickInfo = function(id){\n\tif (id == this._quick_info_box_id || !this.config.show_quick_info) return;\n\tthis.hideQuickInfo(true);\n\tvar offset = 6; // offset TASK <> QI-BOX in 'px'\n\n\tvar pos = this._get_event_counter_part(id, offset);\n\t\n\tif (pos){\n\t\tthis._quick_info_box = this._init_quick_info(pos, id);\n\t\tthis._quick_info_task = id;\n\t\tthis._quick_info_box.className = gantt._prepare_quick_info_classname(id);\n\n\t\tthis._fill_quick_data(id);\n\t\tthis._show_quick_info(pos, offset);\n\t\tthis.callEvent(\"onQuickInfo\", [id]);\n\t}\n};\ngantt._hideQuickInfo = function(){\n\tgantt.hideQuickInfo();\n};\ngantt.hideQuickInfo = function(forced){\n\tvar qi = this._quick_info_box;\n\tthis._quick_info_box_id = 0;\n\tvar taskId = this._quick_info_task;\n\tthis._quick_info_task = null;\n\n\tif (qi && qi.parentNode){\n\n\t\tif (gantt.config.quick_info_detached) {\n\t\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t\t\treturn qi.parentNode.removeChild(qi);\n\t\t}\n\n\t\tqi.className += \" gantt_qi_hidden\";\n\t\tif (qi.style.right == \"auto\")\n\t\t\tqi.style.left = \"-350px\";\n\t\telse\n\t\t\tqi.style.right = \"-350px\";\n\n\t\tif (forced) {\n\t\t\tqi.style.left = qi.style.right = \"\";\n\t\t\tqi.parentNode.removeChild(qi);\n\t\t}\n\t\tthis.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t}\n};\ngantt.event(window, \"keydown\", function(e){\n\tif (e.keyCode == 27)\n\t\tgantt.hideQuickInfo();\n});\n\ngantt._show_quick_info = function(pos, offset){\n\tvar qi = gantt._quick_info_box;\n\tif (gantt.config.quick_info_detached){\n\t\tif (!qi.parentNode || \n\t\t\tqi.parentNode.nodeName.toLowerCase() == \"#document-fragment\")//IE8\n\t\t\tgantt.$task_data.appendChild(qi);\n\t\tvar width = qi.offsetWidth;\n\t\tvar height = qi.offsetHeight;\n\n\t\tvar scrolls = this.getScrollState();\n\t\tvar screen_width = this.$task.offsetWidth + scrolls.x - width;\n\n\t\t//pos.dy = (pos.top + height - scrolls.y > (gantt._y - gantt.config.scale_height)*0.96) ? 1 : 0; // uncomment to show QI at the bottom of task always\n\n\t\tqi.style.left = Math.min(Math.max(scrolls.x, pos.left - pos.dx*(width - pos.width)), screen_width) + \"px\";\n\t\tqi.style.top = pos.top - (pos.dy ? (height + pos.height + 2*offset) : 0) + \"px\";\n\t} else {\n\t\tqi.style.top = 20 + \"px\";\n\t\tif (pos.dx == 1){\n\t\t\tqi.style.right = \"auto\";\n\t\t\tqi.style.left = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.left = \"10px\";\n\t\t\t},1);\n\t\t} else {\n\t\t\tqi.style.left = \"auto\";\n\t\t\tqi.style.right = \"-300px\";\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tqi.style.right = \"10px\";\n\t\t\t},1);\n\t\t}\n\t\tqi.className += \" gantt_qi_\"+(pos.dx == 1 ? \"left\" : \"right\");\n\t\tgantt.$root.appendChild(qi);\n\t}\n};\ngantt._prepare_quick_info_classname = function(id){\n\tvar task = gantt.getTask(id);\n\n\tvar css = \"gantt_cal_quick_info\",\n\t\ttemplate = this.templates.quick_info_class(task.start_date, task.end_date, task);\n\n\tif(template){\n\t\tcss += \" \" + template;\n\t}\n\treturn css;\n};\n\ngantt._init_quick_info = function(pos, id){\n\tvar task = gantt.getTask(id);\n\tif(typeof this._quick_info_readonly == \"boolean\"){\n\t\tif(this.isReadonly(task) !== this._quick_info_readonly){\n\t\t\tgantt.hideQuickInfo(true);\n\t\t\tthis._quick_info_box = null;\n\t\t}\n\t}\n\n\tthis._quick_info_readonly = this.isReadonly(task);\n\n\tif (!this._quick_info_box){\n\t\tvar qi = this._quick_info_box = document.createElement(\"div\");\n\n\t\tthis._waiAria.quickInfoAttr(qi);\n\n\n\t//title\n\t\tvar ariaAttr = gantt._waiAria.quickInfoHeaderAttrString();\n\t\tvar html = \"<div class=\\\"gantt_cal_qi_title\\\" \"+ariaAttr+\">\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_tcontent\\\"></div><div  class=\\\"gantt_cal_qi_tdate\\\"></div>\" +\n\t\t\t\"</div>\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_content\\\"></div>\";\n\n\t//buttons\n\t\thtml += \"<div class=\\\"gantt_cal_qi_controls\\\">\";\n\t\tvar buttons = gantt.config.quickinfo_buttons;\n\n\t\tvar is_editor = {\"icon_delete\":true,\"icon_edit\":true};\n\n\t\tfor (var i = 0; i < buttons.length; i++){\n\t\t\tif(this._quick_info_readonly && is_editor[buttons[i]])\n\t\t\t\tcontinue;\n\n\t\t\tvar ariaAttr = gantt._waiAria.quickInfoButtonAttrString(gantt.locale.labels[buttons[i]]);\n\n\t\t\thtml += \"<div class=\\\"gantt_qi_big_icon \"+buttons[i]+\"\\\" title=\\\"\"+gantt.locale.labels[buttons[i]]+\"\\\" \" + ariaAttr +\"><div class='gantt_menu_icon \" + buttons[i] + \"'></div><div>\"+gantt.locale.labels[buttons[i]]+\"</div></div>\";\n\t\t}\n\t\thtml += \"</div>\";\n\n\t\tqi.innerHTML = html;\n\n\t\tvar buttonClick = function(ev){\n\t\t\tev = ev || event;\n\t\t\tgantt._qi_button_click(ev.target || ev.srcElement);\n\t\t};\n\n\t\tgantt.event(qi, \"click\", buttonClick);\n\t\tgantt.event(qi, \"keypress\", function(e){\n\t\t\te = e || event;\n\t\t\tvar code = e.which||event.keyCode;\n\t\t\tif (code == 13 || code == 32){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tgantt._qi_button_click(e.target || e.srcElement);\n\t\t\t\t},1);\n\t\t\t}\n\t\t});\n\t\tif (gantt.config.quick_info_detached)\n\t\t\tgantt.event(gantt.$task_data, \"scroll\", function(){  gantt.hideQuickInfo(); });\n\t}\n\n\treturn this._quick_info_box;\n};\n\ngantt._qi_button_click = function(node){\n\tvar box = gantt._quick_info_box;\n\tif (!node || node == box) return;\n\n\tvar mask = node.className;\n\tif (mask.indexOf(\"_icon\")!=-1){\n\t\tvar id = gantt._quick_info_box_id;\n\t\tgantt.$click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\n\t} else\n\t\tgantt._qi_button_click(node.parentNode);\n};\ngantt._get_event_counter_part = function(id, offset){\n\tvar domEv = gantt.getTaskNode(id);\n\tif (!domEv)\n\t\treturn null;\n\tvar left = 0;\n\tvar top = offset + domEv.offsetTop + domEv.offsetHeight;\n\n\tvar node = domEv;\n\twhile (node && node.className != \"gantt_task\"){\n\t\tleft += node.offsetLeft;\n\t\tnode = node.offsetParent;\n\t}\n\t\n\tvar scroll = this.getScrollState();\n\n\tif(node){\n\t\tvar dx = (left + domEv.offsetWidth/2) - scroll.x > (gantt.$container.offsetWidth/2) ? 1 : 0;\n\t\tvar dy = (top + domEv.offsetHeight/2) - scroll.y > (gantt.$container.offsetHeight/2) ? 1 : 0;\n\n\t\treturn { left:left, top:top, dx:dx, dy:dy,\n\t\t\twidth:domEv.offsetWidth, height:domEv.offsetHeight };\n\t}\n\treturn null;\n};\n\ngantt._fill_quick_data  = function(id){\n\tvar ev = gantt.getTask(id);\n\tvar qi = gantt._quick_info_box;\n\n\tgantt._quick_info_box_id = id;\n\n//title content\n\n\tvar header = {\n\t\tcontent: gantt.templates.quick_info_title(ev.start_date, ev.end_date, ev),\n\t\tdate: gantt.templates.quick_info_date(ev.start_date, ev.end_date, ev)\n\t};\n\tvar titleContent = qi.firstChild.firstChild;\n\ttitleContent.innerHTML = header.content;\n\tvar titleDate = titleContent.nextSibling;\n\ttitleDate.innerHTML = header.date;\n\n\n\tgantt._waiAria.quickInfoHeader(qi, [header.content, header.date].join(\" \"));\n\n//main content\n\tvar main = qi.firstChild.nextSibling;\n\tmain.innerHTML = gantt.templates.quick_info_content(ev.start_date, ev.end_date, ev);\n};\n"],"sourceRoot":""}